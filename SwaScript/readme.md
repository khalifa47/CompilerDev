# SwahiliScript Compiler

SwahiliScript is a simple programming language designed for educational purposes, based on Swahili keywords. This project includes a lexer, parser, and interpreter for the SwahiliScript language. Test-driven development, in the form of unit tests (found in the `/tests` folder), was used to ensure robustness of the compiler.

To run sample code use `python main.py test.swa`
To run the tests use `python -m unittest discover -s tests`

## Features

1. ### [Lexer](https://github.com/khalifa47/CompilerDev/blob/main/SwaScript/lexer.py): Tokenizes SwahiliScript code into a list of tokens.

   The SwahiliScript tokenizer utilizes regular expressions to categorize input code into distinct elements known as tokens. Each token represents a specific type of information, such as keywords, operators, identifiers, and literals. The tokenizer processes the code and breaks it down into individual tokens to be utilized during the parsing and interpretation phases.

   The defined `TOKEN_TYPES` array consists of tuples, where each tuple holds a token type and its corresponding regular expression pattern. Upon receiving code input, the lexer function iterates through these patterns, matching them against the code to identify the tokens. These tokens are stored in a list containing tuples with information about the token type, the matched value, and the line number where the token occurs.

   In the case of unmatched patterns or unexpected characters in the code, the tokenizer raises a `SyntaxError` with information about the line and a snippet of the problematic code.

   An "EOF" token is added at the end for convenience, marking the conclusion of the token stream.

   #### Sample output `(TOKEN TYPE, VALUE, LINE NUMBER)`

   `[
      ('KEYWORD', 'weka', 1),
      ('IDENTIFIER', 'x', 1),
      ('KEYWORD', 'kuwa', 1),
      ('NUMBER', '42', 1),
      ('OPERATOR', '+', 1),
      ('NUMBER', '3', 1),
      ('EOF', '', 2)
 ]
`

2. ### [Parser](https://github.com/khalifa47/CompilerDev/blob/main/SwaScript/parse.py): Parses the tokenized code into an Abstract Syntax Tree (AST).

   The SwahiliScript parser is responsible for processing the tokens generated by the tokenizer and constructing an Abstract Syntax Tree (AST). It interprets the structure of the code and generates a representation that can be easily used for interpretation.

   The `Parser` class contains methods to parse the tokens and build the AST. It traverses the token stream, identifying various types of statements and expressions. These include:

   - **Statement Parsing:** The `parse_statement` method handles different types of statements such as assignments, print statements, conditionals (if statements), loops (for loops), and other SwahiliScript keywords. It checks the token type and processes the corresponding statement.
   - **Expression Parsing:** The `parse_expression` method deals with expressions by recognizing different types such as numbers, strings, booleans, identifiers, operators, comparisons, and more. It constructs the AST nodes representing the expressions.

   The parser navigates through the tokens, checks for specific patterns, and constructs the AST by organizing these tokens into a structured representation of the code, ready for interpretation by the interpreter.

   Please note that the provided code includes a partial representation of the parser. Depending on the language's grammar and features, additional parsing for different keywords and statements might be needed, extending the functionality of the parser to cover the language's entire syntax.

   #### Sample output

   `[('assignment', 'x', ('operator', '-', ('number', 42.0), ('number', 3.0)), 1)]`

3. ### [Interpreter](https://github.com/khalifa47/CompilerDev/blob/main/SwaScript/interpreter.py): Executes SwahiliScript code by evaluating the AST.

   The SwahiliScript interpreter plays a crucial role in executing the Abstract Syntax Tree (AST) generated by the parser. It processes the structured representation of the code and performs actions based on different types of nodes within the tree. It outputs the result of the code.

   The `Interpreter` class contains methods to interpret various nodes present in the AST, executing the SwahiliScript program step by step. Key functionalities within the interpreter include:

   - **Variable Assignment and Retrieval:** The `assign_variable` and `get_variable` methods manage the storage and retrieval of variables during the interpretation process.
   - **Expression Evaluation:** The `evaluate_expression` method processes arithmetic operations, evaluating expressions involving addition, subtraction, multiplication, and division.
   - **Conditional Statements:** The interpreter evaluates conditional statements using the `evaluate_if_statement` method, determining the execution path based on the condition's truth value.
   - **Comparison Evaluation:** The `evaluate_comparison` method handles comparison operators to determine equality, inequality, and relative comparisons between values.
   - **Loop Handling:** For loops are processed by the `evaluate_loop` method, allowing iteration through a specified range and executing the loop body accordingly.
   - **Printing Statements:** The `print` keyword is supported through the `interpret` method, executing the corresponding print statement.

   The `interpret_program` method orchestrates the interpretation process, iterating through the AST's statements and executing them one by one. Each statement's result is captured, ensuring the interpretation of the entire program.

   It's important to note that the provided code includes a partial representation of the interpreter. Depending on the language's grammar and features, additional functionalities might be required to cover the language's entire syntax and execution behavior.

## Language Syntax

SwahiliScript is a programming language inspired by the Swahili language, designed with simplicity and readability in mind. Its syntax encompasses various constructs and features enabling developers to write expressive code.

### Keywords

The language includes a set of keywords used to define various program structures and control flow:

- **weka:** Assigns a value to a variable.
- **kuwa:** Used in variable assignment.
- **chapisha:** Prints the value of expressions or variables.
- **ikiwa:** Starts an if statement to check conditions.
- **basi:** Indicates the body of an if statement or loop.
- **mwisho:** Marks the end of an if statement or loop.
- **kwa kila:** Initiates a loop structure to iterate over a range.
- **katika:** Specifies the beginning of the range in a loop.
- **hadi:** Specifies the end of the range in a loop.
- **fanya:** Indicates the beginning of the loop's body.s

### Data Types

SwahiliScript supports the following data types:

- **Nambari (Number):** Represents numeric values.
- **Herufi (String):** Represents textual data enclosed in double quotes.
- **Kweli/Uwongo (Boolean):** Represents true or false values.

### Expressions and Operators

The language allows users to perform various operations using arithmetic and comparison operators:

- **Arithmetic Operators:** `+, -, *, /` for addition, subtraction, multiplication, and division.
- **Comparison Operators:** `ni sawa na, si sawa na, kubwa kuliko, ndogo kuliko, kubwasawana, ndogosawana` for equality, inequality, greater than, less than, greater than or equal to, and less than or equal to respectively.

### Control Structures

- **If-else Statements:** Defined using `ikiwa` (if) to check conditions and `basi` (then) for the body, with `mwisho` to signify the end.
- **For Loop:** Utilizes `kwa kila` (for each) and `fanya` (do) to loop over a specified range, specifying the range using `katika` (from) and `hadi` (to).

The language's syntax is designed to be clear and straightforward, providing a simple yet effective way to express logic and computations.

## Examples of code snippets

#### Variable Assignment and Printing

```python
weka x kuwa 10  # Assigning value to the variable x
weka y kuwa "Habari, SwahiliScript!"  # Assigning a string to variable y
chapisha x  # Printing the value of variable x
chapisha y  # Printing the value of variable y
```

#### Conditional Statement

```python
ikiwa x ni sawa na 10 basi  # If x is equal to 10
    chapisha "Value of x is 10"  # Print this statement
mwisho  # End of if statement
```

#### Loop

```python
kwa kila i katika 1 hadi 5 fanya  # For loop from 1 to 5
    chapisha i  # Print the value of i
mwisho  # End of for loop
```

#### Arithmetic Operations

```python
weka a kuwa 5
weka b kuwa 7
weka c kuwa a + b  # Addition operation
chapisha c  # Output: 12

weka d kuwa 15
weka e kuwa d - a  # Subtraction operation
chapisha e  # Output: 10

weka f kuwa a * b  # Multiplication operation
weka f  # Output: 35

weka g kuwa b / a  # Division operation
weka g  # Output: 1.4
```
